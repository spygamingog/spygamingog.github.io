<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plugins & Tools | SpyRun</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/plugins-data.js"></script>
    <style>
        .bg-glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px border rgba(255, 255, 255, 0.05);
        }
        .modal-overlay {
            background: rgba(5, 5, 6, 0.9);
            backdrop-filter: blur(10px);
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'spy-dark': '#0a0a0c',
                        'spy-darker': '#050506',
                        'spy-neon-blue': '#00f2ff',
                        'spy-neon-purple': '#bc13fe',
                        'spy-gray': '#1a1a1e',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-spy-dark text-gray-200 font-sans antialiased selection:bg-spy-neon-blue selection:text-black">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-spy-dark/80 backdrop-blur-md border-b border-white/5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <a href="index.html" class="flex items-center gap-3 hover:opacity-80 transition-opacity group">
                    <div class="w-10 h-10 bg-gradient-to-br from-spy-neon-blue to-spy-neon-purple rounded-lg flex items-center justify-center shadow-[0_0_15px_rgba(0,242,255,0.3)] group-hover:shadow-[0_0_25px_rgba(188,19,254,0.5)] transition-all">
                        <i class="fas fa-user-secret text-white text-xl"></i>
                    </div>
                    <span class="text-2xl font-extrabold tracking-tighter text-white">SPY<span class="text-spy-neon-blue group-hover:text-spy-neon-purple transition-colors">RUN</span></span>
                </a>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center gap-8">
                    <a href="index.html" class="hover:text-spy-neon-blue transition-colors font-medium text-sm uppercase tracking-wide">Home</a>
                    <a href="index.html#speedrun" class="hover:text-spy-neon-blue transition-colors font-medium text-sm uppercase tracking-wide">Speedrun</a>
                    <a href="index.html#manhunt" class="hover:text-spy-neon-purple transition-colors font-medium text-sm uppercase tracking-wide">Manhunt</a>
                    <a href="leaderboard.html" class="hover:text-spy-neon-blue transition-colors font-medium text-sm uppercase tracking-wide">Leaderboard</a>
                    <a href="history.html" class="hover:text-spy-neon-blue transition-colors font-medium text-sm uppercase tracking-wide">History</a>
                    <a href="plugins.html" class="text-spy-neon-blue font-bold text-sm uppercase tracking-wide border-b-2 border-spy-neon-blue pb-1">Plugins</a>
                    <a href="https://discord.gg/KXCuuSpBzW" target="_blank" class="px-5 py-2.5 bg-white/5 hover:bg-white/10 rounded-full border border-white/10 flex items-center gap-2 transition-all hover:scale-105 group">
                        <i class="fab fa-discord text-[#5865F2] group-hover:animate-bounce"></i>
                        <span>Discord</span>
                    </a>
                </div>

                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-white hover:text-spy-neon-blue focus:outline-none transition-colors p-2">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-spy-dark/95 backdrop-blur-xl border-b border-white/5 absolute w-full left-0 top-20 z-40">
            <div class="px-4 pt-4 pb-6 space-y-4 flex flex-col">
                <a href="index.html" class="block px-4 py-3 rounded-lg hover:bg-white/5 text-gray-300 hover:text-white transition-colors font-medium">Home</a>
                <a href="index.html#speedrun" class="block px-4 py-3 rounded-lg hover:bg-white/5 text-gray-300 hover:text-white transition-colors font-medium">Speedrun</a>
                <a href="index.html#manhunt" class="block px-4 py-3 rounded-lg hover:bg-white/5 text-gray-300 hover:text-white transition-colors font-medium">Manhunt</a>
                <a href="leaderboard.html" class="block px-4 py-3 rounded-lg hover:bg-white/5 text-gray-300 hover:text-white transition-colors font-medium">Leaderboard</a>
                <a href="history.html" class="block px-4 py-3 rounded-lg hover:bg-white/5 text-gray-300 hover:text-white transition-colors font-medium">History</a>
                <a href="plugins.html" class="block px-4 py-3 rounded-lg bg-spy-neon-blue/10 text-spy-neon-blue border border-spy-neon-blue/20 font-bold">Plugins</a>
                <a href="https://discord.gg/KXCuuSpBzW" target="_blank" class="block px-4 py-3 rounded-lg bg-[#5865F2]/20 text-white border border-[#5865F2]/30 flex items-center gap-2 justify-center">
                    <i class="fab fa-discord"></i> Join Discord
                </a>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <section class="pt-32 pb-16 relative overflow-hidden">
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-full pointer-events-none">
            <div class="absolute top-[-10%] left-[20%] w-[30%] h-[30%] bg-spy-neon-blue/10 blur-[100px] rounded-full animate-pulse"></div>
            <div class="absolute bottom-[10%] right-[20%] w-[30%] h-[30%] bg-spy-neon-purple/10 blur-[100px] rounded-full animate-pulse" style="animation-delay: 1.5s;"></div>
        </div>
        
        <div class="max-w-7xl mx-auto px-4 text-center relative z-10">
            <h1 class="text-5xl md:text-7xl font-black text-white mb-6 tracking-tight">OUR <span class="text-transparent bg-clip-text bg-gradient-to-r from-spy-neon-blue to-spy-neon-purple">ECOSYSTEM</span></h1>
            <p class="text-xl text-gray-400 max-w-2xl mx-auto">
                Powering the next generation of competitive Minecraft with cutting-edge plugins and mods.
            </p>
        </div>
    </section>

    <!-- Plugins Grid -->
    <section class="pb-20 relative z-10 min-h-[50vh]">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div id="plugins-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Dynamic Content -->
            </div>
        </div>
    </section>

    <!-- Plugin Detail Modal -->
    <div id="plugin-modal" class="fixed inset-0 z-[100] hidden">
        <div class="modal-overlay absolute inset-0" onclick="closeModal()"></div>
        <div class="absolute inset-4 md:inset-auto md:top-1/2 md:left-1/2 md:-translate-x-1/2 md:-translate-y-1/2 md:w-full md:max-w-4xl max-h-[90vh] bg-spy-darker border border-white/10 rounded-3xl shadow-2xl overflow-y-auto custom-scrollbar">
            <div id="modal-content" class="p-8 md:p-12">
                <!-- Dynamic Modal Content -->
            </div>
            <button onclick="closeModal()" class="absolute top-6 right-6 text-gray-400 hover:text-white transition-colors">
                <i class="fas fa-times text-2xl"></i>
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="py-12 border-t border-white/5 bg-black/40 relative z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-gradient-to-br from-spy-neon-blue to-spy-neon-purple rounded flex items-center justify-center">
                    <i class="fas fa-user-secret text-white text-xs"></i>
                </div>
                <span class="font-bold text-white">SPY<span class="text-spy-neon-blue">RUN</span></span>
            </div>
            <div class="text-gray-500 text-sm">
                &copy; 2024 SpyRun Network. Not affiliated with Mojang AB.
            </div>
            <div class="flex gap-4">
                <a href="#" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-spy-neon-blue hover:text-black transition-all">
                    <i class="fab fa-twitter"></i>
                </a>
                <a href="#" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-[#5865F2] hover:text-white transition-all">
                    <i class="fab fa-discord"></i>
                </a>
                <a href="#" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-red-600 hover:text-white transition-all">
                    <i class="fab fa-youtube"></i>
                </a>
            </div>
        </div>
    </footer>

    <script>
        // Mobile Menu Toggle
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');
        const icon = btn.querySelector('i');

        btn.addEventListener('click', () => {
            menu.classList.toggle('hidden');
            if (menu.classList.contains('hidden')) {
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            } else {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            }
        });

        // Dynamic Grid Generation
        function renderPlugins() {
            const grid = document.getElementById('plugins-grid');
            grid.innerHTML = pluginsData.map(plugin => `
                <div class="bg-glass rounded-2xl p-8 hover:border-${plugin.color} border border-white/5 transition-all group relative overflow-hidden flex flex-col h-full cursor-pointer" onclick="openModal('${plugin.id}')">
                    <div class="w-16 h-16 bg-${plugin.color}/10 rounded-xl flex items-center justify-center text-${plugin.color} text-3xl mb-6 group-hover:scale-110 transition-transform shadow-[0_0_15px_rgba(0,0,0,0.2)]">
                        <i class="${plugin.icon}"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-3">${plugin.name}</h3>
                    <p class="text-gray-400 mb-6 flex-grow line-clamp-2">${plugin.description}</p>
                    <div class="flex flex-wrap gap-2 mb-6">
                        ${plugin.tags.map(tag => `<span class="px-3 py-1 bg-white/5 rounded-full text-[10px] font-mono text-gray-400 border border-white/5 uppercase tracking-wider">${tag}</span>`).join('')}
                    </div>
                    <button class="block w-full py-3 bg-white/5 text-white font-bold text-center rounded-lg hover:bg-white/10 border border-white/10 transition-colors">
                        View Details
                    </button>
                </div>
            `).join('');
        }

        async function openModal(id) {
            const plugin = pluginsData.find(p => p.id === id);
            const modal = document.getElementById('plugin-modal');
            const content = document.getElementById('modal-content');
            
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';

            content.innerHTML = `
                <div class="flex items-center justify-center h-64">
                    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-spy-neon-blue"></div>
                </div>
            `;

            const [modrinth, github] = await Promise.all([
                fetchModrinthData(plugin.modrinthId),
                fetchGithubData(plugin.githubRepo)
            ]);

            content.innerHTML = `
                <div class="flex flex-col md:flex-row gap-8 items-start mb-10">
                    <div class="w-24 h-24 bg-${plugin.color}/10 rounded-3xl flex items-center justify-center text-${plugin.color} text-5xl shrink-0 shadow-2xl">
                        <i class="${plugin.icon}"></i>
                    </div>
                    <div>
                        <div class="flex flex-wrap items-center gap-3 mb-2">
                            <h2 class="text-4xl font-black text-white">${plugin.name}</h2>
                            <span class="px-3 py-1 bg-spy-neon-blue/10 text-spy-neon-blue text-xs font-bold rounded-full border border-spy-neon-blue/20 uppercase tracking-widest">v${modrinth?.latest_version || '1.0.0'}</span>
                        </div>
                        <p class="text-xl text-gray-400 leading-relaxed">${plugin.description}</p>
                    </div>
                </div>

                <div class="grid md:grid-cols-3 gap-6 mb-12">
                    <div class="bg-white/5 border border-white/5 rounded-2xl p-6 text-center group hover:border-spy-neon-blue transition-colors">
                        <div class="text-gray-500 text-xs uppercase tracking-widest mb-2">Downloads</div>
                        <div class="text-3xl font-black text-white group-hover:text-spy-neon-blue transition-colors">${modrinth?.downloads?.toLocaleString() || '---'}</div>
                    </div>
                    <div class="bg-white/5 border border-white/5 rounded-2xl p-6 text-center group hover:border-spy-neon-purple transition-colors">
                        <div class="text-gray-500 text-xs uppercase tracking-widest mb-2">Followers</div>
                        <div class="text-3xl font-black text-white group-hover:text-spy-neon-purple transition-colors">${modrinth?.followers?.toLocaleString() || '---'}</div>
                    </div>
                    <div class="bg-white/5 border border-white/5 rounded-2xl p-6 text-center group hover:border-green-500 transition-colors">
                        <div class="text-gray-500 text-xs uppercase tracking-widest mb-2">GitHub Stars</div>
                        <div class="text-3xl font-black text-white group-hover:text-green-500 transition-colors">${github?.stargazers_count || '---'}</div>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-10">
                    <div>
                        <h4 class="text-white font-bold text-lg mb-4 flex items-center gap-2">
                            <i class="fas fa-list-ul text-spy-neon-blue"></i> Key Features
                        </h4>
                        <ul class="space-y-3">
                            ${(plugin.features || ["Advanced Logic", "High Performance", "Customizable", "Easy Setup"]).map(f => `
                                <li class="flex items-center gap-3 text-gray-400">
                                    <i class="fas fa-check text-spy-neon-blue text-xs"></i>
                                    ${f}
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                    <div class="flex flex-col gap-4">
                        <h4 class="text-white font-bold text-lg mb-4">Quick Links</h4>
                        <a href="https://modrinth.com/plugin/${plugin.modrinthId}" target="_blank" class="flex items-center justify-between p-4 bg-[#1bd96a]/10 hover:bg-[#1bd96a]/20 border border-[#1bd96a]/20 rounded-xl transition-all group">
                            <div class="flex items-center gap-3">
                                <i class="fas fa-download text-[#1bd96a]"></i>
                                <span class="font-bold text-white">Download on Modrinth</span>
                            </div>
                            <i class="fas fa-external-link-alt text-gray-600 group-hover:text-white transition-colors"></i>
                        </a>
                        <a href="https://github.com/SpyGamingOG/${plugin.githubRepo}" target="_blank" class="flex items-center justify-between p-4 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl transition-all group">
                            <div class="flex items-center gap-3">
                                <i class="fab fa-github text-white"></i>
                                <span class="font-bold text-white">View Source Code</span>
                            </div>
                            <i class="fas fa-external-link-alt text-gray-600 group-hover:text-white transition-colors"></i>
                        </a>
                    </div>
                </div>
            `;
        }

        function closeModal() {
            document.getElementById('plugin-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Initialize
        renderPlugins();
    </script>
</body>
</html>